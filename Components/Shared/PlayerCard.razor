@using MiniRisk.Models.Dtos
@using MiniRisk.Models.Enums

<div class="player-card @(IsCurrentTurn ? "player-card--active" : "")
                        @(Player.IsEliminated ? "player-card--eliminated" : "")
                        @(IsMe ? "player-card--me" : "")"
     style="border-left: 3px solid var(--player-@Player.Color.ToString().ToLower())">

    <div class="player-card__header">
        @if (IsCurrentTurn)
        {
            <span class="turn-indicator">â–¶</span>
        }
        <span class="player-card__name">
            @Player.PlayerName
            @if (IsMe) { <span class="badge badge-me">TÃš</span> }
        </span>
        <span class="player-card__color"
              style="background: var(--player-@Player.Color.ToString().ToLower())">
        </span>
    </div>

    <div class="player-card__stats">
        <span title="Territorios">ğŸ—ºï¸ @Player.TerritoryCount</span>
        <span title="EjÃ©rcitos">âš”ï¸ @Player.TotalArmies</span>
        <span title="Cartas">ğŸƒ @Player.CardCount</span>
    </div>

    @if (!Player.IsConnected && !Player.IsEliminated)
    {
        <div class="player-card__status disconnected">âš ï¸ Desconectado</div>
    }
    @if (Player.IsEliminated)
    {
        <div class="player-card__status eliminated">âœ• Eliminado</div>
    }
</div>

@code {
    [Parameter] public PlayerDto Player { get; set; } = default!;
    [Parameter] public bool IsCurrentTurn { get; set; }
    [Parameter] public bool IsMe { get; set; }
}
